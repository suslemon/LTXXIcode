function encodeLTXXI(text) {
    const pccDict = {
        'a': '*-',
        'ă': '*~',
        'â': '*^',
        'b': '-*',
        'c': '>-',
        'd': '|)',
        'đ': '|=',
        'e': '.(',
        'ê': '.^',
        'g': '(^-',
        'h': '((-',
        'i': '!)',
        'k': '>|',
        'l': '>>',
        'm': '^^',
        'n': '~|',
        'o': '(.',
        'ô': '(^',
        'ơ': '(:',
        'p': '(*',
        'q': '9/',
        'r': '||',
        's': '##',
        't': ')-;',
        'u': '__',
        'ư': '_/',
        'v': '\\/',
        'x': '}=',
        'y': '`}',
        'z': '2~',
        ' ': '+',
        ',': '{,}',
        '.': '{.}',
        ':': '{:}',
        ';': '{;}',
        '!': '[!]',
        '/': '[/]',
        '@': '[@]',
        '#': '[#]',
        '$': '[$]',
        '%': '[%]',
        '^': '[^]',
        '&': '[&]',
        '*': '[*]',
        '(': '[(',
        ' )': '[)]',
        '?': '[?]',

        '0': '_ _ _',
        '1': '- _',
        '2': '- -',
        '3': '_ -',
        '4': '_ _',
        '5': '- _ _',
        '6': '- - _',
        '7': '_ - _',
        '8': '_ _ -',
        '9': '- _ -',

        'f': '-.-.',
        'j': '.---',
        'w': '.--',
        'z': '--..',

        // Dấu tiếng Việt
        'á': '*-ˊ',
        'à': '*-ˋ',
        'ả': '*-ˀ',
        'ã': '*-˜',
        'ạ': '*-•',
        'ắ': '*~ˊ',
        'ằ': '*~ˋ',
        'ẳ': '*~ˀ',
        'ẵ': '*~˜',
        'ặ': '*~•',
        'ấ': '*^ˊ',
        'ầ': '*^ˋ',
        'ẩ': '*^ˀ',
        'ẫ': '*^˜',
        'ậ': '*^•',
        'é': '.(ˊ',
        'è': '.(ˋ',
        'ẻ': '.(ˀ',
        'ẽ': '.(˜',
        'ẹ': '.(•',
        'ế': '.^ˊ',
        'ề': '.^ˋ',
        'ể': '.^ˀ',
        'ễ': '.^˜',
        'ệ': '.^•',
        'í': '!)ˊ',
        'ì': '!)ˋ',
        'ỉ': '!)ˀ',
        'ĩ': '!)˜',
        'ị': '!)•',
        'ý': '`}ˊ',
        'ỳ': '`}ˋ',
        'ỷ': '`}ˀ',
        'ỹ': '`}˜',
        'ỵ': '`}•',
        'ú': '__ˊ',
        'ù': '__ˋ',
        'ủ': '__ˀ',
        'ũ': '__˜',
        'ụ': '__•',
        'ố': '(^ˊ',
        'ồ': '(^ˋ',
        'ổ': '(^ˀ',
        'ỗ': '(^˜',
        'ộ': '(^•',
        'ớ': '(:ˊ',
        'ờ': '(:ˋ',
        'ở': '(:ˀ',
        'ỡ': '(:˜',
        'ợ': '(:•'
    };

    let encoded = [];

    for (let char of text) {
        if (char === ' ') {
            encoded.push('+');
        } else if (char === char.toUpperCase() && char !== char.toLowerCase()) {
            const lower = char.toLowerCase();
            const mapped = pccDict[lower] || '<?>'
            encoded.push(`[{${mapped}}]`);
        } else if (pccDict[char]) {
            encoded.push(pccDict[char]);
        } else {
            encoded.push('<?>');
        }
    }

    return encoded.join('%');
}